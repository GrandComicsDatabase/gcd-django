{% load display %}
{% load credits %}

<table>
  <thead class="bg-blue-100 {% if not table.not_sticky %}md:sticky{% endif %} md:top-0">
    <tr style="vertical-align:top">
{% if select_key %}
      <th> Selection </th>
{% endif %}
      <th> Publisher </th>
      <th> Year&nbsp;Began </th>
      <th> Year&nbsp;Ended </th>
      <th> #&nbsp;Brand Groups </th>
      <th style="text-align:right"> #&nbsp;Indicia / Colophon<br> Publishers </th>
      <th> #&nbsp;Titles </th>
      <th> #&nbsp;Issues </th>
    </tr>
  </thead>
  <tbody class="sortable_listing">
{% for publisher in items %}
  {% with publisher|object_filter as publisher %}
    <tr>
    {% if select_key %}
      <td>
        <form action="{% url 'select_object' select_key=select_key %}" method="POST">
      {% csrf_token %}
          <button class="btn-blue-editing" type="submit" name="search_select" style="white-space: nowrap;">
      Select This Publisher
          </button>
          <input type="hidden" name="object_choice" value="publisher_{{ publisher.id }}">
        </form>
      </td>
    {% endif %}
      <td> <img class="inline" {{ publisher.country|show_country_info }}>
        <a href="{{ publisher.get_absolute_url }}">{{ publisher.name }}</a> </td>
      <td style="text-align: center"> {{ publisher.year_began|default:'' }} </td>
      <td style="text-align: center"> {{ publisher.year_ended|default:'' }} </td>
      <td style="text-align: right">
    {% if publisher.brand_count %}
        <a href="{{ publisher.get_absolute_url}}brands/">{{ publisher.brand_count }}</a>
    {% else %}
        {{ publisher.brand_count }}
    {% endif %}
      </td>
      <td style="text-align: right">
    {% if publisher.indicia_publisher_count %}
        <a href="{{ publisher.get_absolute_url}}indicia_publishers/">{{ publisher.indicia_publisher_count }}</a>
    {% else %}
        {{ publisher.indicia_publisher_count }}
    {% endif %}
      </td>
      <td style="text-align: right"> {{ publisher.series_count }} </td>
      <td style="text-align: right"> {{ publisher.issue_count }} </td>
    </tr>
  {% endwith %}
{% endfor %}
  </tbody>
</table>
{% if not no_result_count %}
Displaying {{ page.start_index }} to {{ page.end_index }} of {{ page.paginator.count }} {{ item_name }}{{ page.paginator.count|pluralize:plural_suffix }}
{% endif %}
